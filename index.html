<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Webデザイナー適性診断（モダンUI）</title>
  <style>
    :root{
      --bg: #f5f7fb;
      --card: #ffffff;
      --accent: #6366f1;
      --accent-2: #7c3aed;
      --accent-weak: #a5b4fc;
      --muted: #6b7280;
      --text: #0f172a;
      --radius: 16px;
      --shadow: 0 8px 30px rgba(15,23,42,0.06);
      --glass: rgba(255,255,255,0.6);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      padding:28px;
      font-family: Inter, system-ui, -apple-system, "Hiragino Kaku Gothic ProN", "Meiryo", "Segoe UI", Roboto, "Noto Sans JP", sans-serif;
      background:
        radial-gradient(1000px 400px at 10% 10%, rgba(124,58,237,0.06), transparent 12%),
        radial-gradient(800px 300px at 90% 90%, rgba(99,102,241,0.04), transparent 12%),
        var(--bg);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;  
    }

    .card{
      width:100%;
      max-width:820px;
      border-radius:var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,0.9), var(--card));
      box-shadow: var(--shadow);
      padding:28px;
      backdrop-filter: blur(6px);
      overflow:hidden;
      transform-origin:center;
      animation: cardIn .5s cubic-bezier(.2,.9,.3,1);
    }
    @keyframes cardIn {
      from { opacity:0; transform: translateY(16px) scale(.995); }
      to   { opacity:1; transform: none; }  
    }

    header h1{
      margin:0;
      font-size:22px;
      letter-spacing:-0.02em;
    }
    .lead{ margin:8px 0 18px; color:var(--muted); font-size:14px; }

    .question{ margin:18px 0; padding:14px 12px; border-radius:12px; transition:0.24s; }
    .question h2{ margin:0 0 10px; font-size:16px; }

    .choices{ display:flex; flex-direction:column; gap:10px; margin-top:6px; }
    .choice{
      display:flex;
      align-items:center;
      gap:12px;
      padding:12px 14px;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.98));
      border:1px solid rgba(15,23,42,0.06);
      cursor:pointer;
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      box-shadow: 0 6px 18px rgba(12,18,36,0.03);
      text-align:left;
    }
    .choice:hover{
      transform: translateY(-4px) scale(1.004);
      box-shadow: 0 12px 30px rgba(15,23,42,0.07);
    }
    .choice .dot{
      min-width:36px; min-height:36px; border-radius:10px; display:flex; align-items:center; justify-content:center;
      font-weight:700; color:white; background:linear-gradient(180deg,var(--accent),var(--accent-2));
      box-shadow: 0 6px 16px rgba(99,102,241,0.18);
    }
    .choice small{ color:var(--muted); font-size:13px; }

    .choice.selected{
      border:1px solid rgba(99,102,241,0.18);
      background:linear-gradient(180deg, rgba(99,102,241,0.04), rgba(255,255,255,0.66));
      transform: translateY(-6px);
      box-shadow: 0 16px 36px rgba(99,102,241,0.08);
    }

    .controls{ display:flex; justify-content:space-between; align-items:center; margin-top:18px; gap:12px; flex-wrap:wrap; }
    .controls .left, .controls .right { display:flex; gap:10px; align-items:center; }

    button{
      border:0;
      padding:10px 16px;
      border-radius:12px;
      font-weight:600;
      cursor:pointer;
      background: linear-gradient(90deg,var(--accent),var(--accent-2));
      color:white;
      box-shadow: 0 8px 28px rgba(99,102,241,0.12);
      transition: transform .18s ease, box-shadow .18s ease, opacity .12s;
    }
    button:hover{ transform: translateY(-3px); }
    button:active{ transform: translateY(0); }
    button.secondary{
      background:transparent;
      color:var(--accent);
      border:1px solid rgba(99,102,241,0.12);
      box-shadow:none;
    }
    button.secondary[disabled]{ opacity:0.4; cursor:not-allowed; transform:none; }

    .progress-wrap{ margin-top:14px; }
    .progress{
      height:12px;
      width:100%;
      background: linear-gradient(180deg,#eef2ff,#f5f7ff);
      border-radius:999px;
      overflow:hidden;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.4);
    }
    .progress-bar{
      height:100%;
      width:0%;
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      transition: width .6s cubic-bezier(.2,.9,.3,1);
      box-shadow: 0 6px 18px rgba(124,58,237,0.12);
    }
    .progress-meta{ display:flex; justify-content:space-between; margin-top:10px; font-size:13px; color:var(--muted); }

    .warning{ color:#b91c1c; background:#fff1f2; border:1px solid #fecaca; padding:8px; border-radius:8px; margin-top:8px; }

    .result{      
      padding:18px; border-radius:14px; margin-top:14px; background: linear-gradient(180deg, rgba(99,102,241,0.04), rgba(255,255,255,0.7));
    }
    .result .big{
      display:flex; align-items:baseline; gap:14px; margin-bottom:8px;
    }
    .result .percent{
      font-size:48px; font-weight:800; line-height:1; color:transparent;
      background: linear-gradient(90deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      background-clip: text;
      animation: pop 0.6s cubic-bezier(.2,.9,.3,1);
    }
    @keyframes pop {
      from{ transform: scale(.86); opacity:0; }
      to{ transform: scale(1); opacity:1; }
    }
    .result h3{ margin:0; font-size:18px; }
    .result p{ margin:6px 0 0; color:var(--muted); }

    @media (max-width:520px){
      .card{ padding:18px; border-radius:12px; }
      .choice{ padding:12px; }
      .choice .dot{ min-width:34px; min-height:34px; border-radius:8px; }
      .result .percent{ font-size:36px; }
      button{ padding:10px 14px; }
    }
  </style>
</head>
<body>
  <div class="card" role="application" aria-label="デザイナー適性診断（モダンUI）">
    <header>
      <header>
  <h1>あなたは何％デザイナー向き？（5段階評価）</h1>

  <p class="description">
    いくつかの質問に答えるだけで、あなたのデザイナー適性を診断できます。<br>
    思考タイプや向いている働き方の傾向を、簡易的にチェックしてみましょう。
  </p>

  <p class="lead">
    各質問について、1（当てはまらない）〜5（非常に当てはまる）で選択してください。
  </p>
</header>

    <main id="quiz" class="fade-area"></main>

    <div class="progress-wrap" aria-hidden>
      <div class="progress">
        <div id="progressBar" class="progress-bar" style="width:0%"></div>
      </div>
      <div class="progress-meta">
        <small id="qInfo">0 / 0</small>
        <small id="scoreInfo">適性: 0%</small>
      </div>
    </div>
  </div>

  <script>

    const QUESTIONS = [
      { id: 'q1', text: '視覚的に美しく整ったデザインを作るのが好きですか？', options:[
        {text:'1 - 当てはまらない', value:0},
        {text:'2 - あまり当てはまらない', value:1},
        {text:'3 - どちらとも言えない', value:2},
        {text:'4 - まあ当てはまる', value:3},
        {text:'5 - 非常に当てはまる', value:4}  
      ]},
      { id: 'q2', text: '色やレイアウトについて学ぶことが楽しいですか？', options:[
        {text:'1 - 全く', value:0},
        {text:'2 - あまり', value:1},
        {text:'3 - どちらでもない', value:2},
        {text:'4 - まあ楽しい', value:3},
        {text:'5 - とても楽しい', value:4}
      ]},
      { id: 'q3', text: 'ユーザーの使いやすさ（UX)を考えるのが得意だと思いますか？', options:[
        {text:'1 - 苦手', value:0},
        {text:'2 - あまり得意でない', value:1},
        {text:'3 - 普通', value:2},
        {text:'4 - 得意', value:3},
        {text:'5 - とても得意', value:4} 
      ]},
      { id: 'q4', text: 'フィードバックを受け入れて改善するのは得意ですか？', options:[
        {text:'1 - 苦手', value:0},
        {text:'2 - あまり得意でない', value:1},
        {text:'3 - 普通', value:2},
        {text:'4 - 得意', value:3},
        {text:'5 - とても得意', value:4}  
      ]},
      { id: 'q5', text: '新しいツール（デザインソフトやプロトタイピング）を学ぶのが好きですか？', options:[
        {text:'1 - 全く好きではない', value:0},
        {text:'2 - あまり好きではない', value:1},
        {text:'3 - 普通', value:2},
        {text:'4 - 好き', value:3},
        {text:'5 - 大好き', value:4}
      ]}
    ];

    const RESULTS = [
      { minPct: 0, 
       maxPct: 39, 
       title: '基礎設計を固めるフェーズ', 
       description: '現時点では基礎理解を深めることで伸びやすい段階です。色彩やレイアウトの基本、情報整理の考え方を体系的に学ぶことで、UIの意図を言語化できる力が身についていきます。'
},
      { minPct: 40, 
       maxPct: 69, 
       title: '実践で伸びるポテンシャル層', 
       description: '基礎を理解したうえで、アウトプット経験を積むことで大きく成長できる段階です。小さな制作や改善を繰り返すことで、判断軸を持ったデザインができるようになります。'
},
      { minPct: 70, 
       maxPct: 100, 
       title: '設計思考を持つデザイナータイプ', 
       description: '感覚だけでなく目的や意図を整理しながら判断できる傾向があります。UI設計や改善提案など、ロジックを伴うデザイン業務との相性が良いタイプです。'
}  
    ];


    const quizEl = document.getElementById('quiz');
    const progressBar = document.getElementById('progressBar');
    const qInfo = document.getElementById('qInfo');
    const scoreInfo = document.getElementById('scoreInfo');

    let answers = {};
    let currentIndex = 0;

    renderQuestion(0);

    function renderQuestion(i){
      const q = QUESTIONS[i];
      quizEl.innerHTML = '';

      const container = document.createElement('div');
      container.className = 'question fade-in';

      const h = document.createElement('h2');
      h.textContent = `Q${i+1}. ${q.text}`;
      container.appendChild(h);

      const choices = document.createElement('div');
      choices.className = 'choices';

      q.options.forEach((opt, idx)=>{
        const b = document.createElement('div');
        b.className = 'choice';
        b.tabIndex = 0;
        b.setAttribute('role','button');
        b.setAttribute('aria-pressed','false');

        const dot = document.createElement('div');
        dot.className = 'dot';
        dot.textContent = String(idx + 1);
        b.appendChild(dot);

        const txtWrap = document.createElement('div');
        const label = document.createElement('div');
        label.textContent = opt.text;
        const helper = document.createElement('small');
        helper.textContent = '';
        txtWrap.appendChild(label);
        txtWrap.appendChild(helper);
        b.appendChild(txtWrap);

        const select = ()=>{
          answers[q.id] = opt.value;
          Array.from(choices.children).forEach(c=>{
            c.classList.remove('selected');
            c.setAttribute('aria-pressed','false');
          });
          b.classList.add('selected');
          b.setAttribute('aria-pressed','true');
          updateProgress();
          updateScoreInfo();
        };
        b.addEventListener('click', select);
        b.addEventListener('keydown', (ev)=>{
          if(ev.key === 'Enter' || ev.key === ' '){ ev.preventDefault(); select(); }
        });

        if(answers[q.id] === opt.value){
          b.classList.add('selected');
          b.setAttribute('aria-pressed','true');
        }

        choices.appendChild(b);
      });

      container.appendChild(choices);

      const controls = document.createElement('div');
      controls.className = 'controls';

      const left = document.createElement('div');
      left.className = 'left';
      const btnPrev = document.createElement('button');
      btnPrev.textContent = '前へ';
      btnPrev.className = 'secondary';
      btnPrev.disabled = (i === 0);
      btnPrev.addEventListener('click', ()=>{
        if(i > 0){ currentIndex = i - 1; renderQuestion(currentIndex); }
      });
      left.appendChild(btnPrev);

      const right = document.createElement('div');
      right.className = 'right';
      const btnNext = document.createElement('button');
      btnNext.textContent = (i === QUESTIONS.length - 1) ? '診断結果を見る' : '次の質問へ';
      btnNext.addEventListener('click', ()=>{
        if(!(q.id in answers)){
          if(!container.querySelector('.warning')){
            const w = document.createElement('div'); w.className='warning'; w.textContent='選択してください';
            container.appendChild(w);
            w.scrollIntoView({behavior:'smooth', block:'center'});
          }
          return;
        }
        if(i === QUESTIONS.length - 1){
          showResult();
        } else {
          currentIndex = i + 1;
          renderQuestion(currentIndex);
        }
      });
      right.appendChild(btnNext);

      controls.appendChild(left);
      controls.appendChild(right);
      container.appendChild(controls);

      quizEl.appendChild(container);

      updateProgress();
      updateScoreInfo();
    }

    function updateProgress(){
      const answeredCount = QUESTIONS.filter(q => (q.id in answers)).length;
      const pct = Math.round((answeredCount / QUESTIONS.length) * 100);
      progressBar.style.width = pct + '%';
      qInfo.textContent = `${Math.min(currentIndex + 1, QUESTIONS.length)} / ${QUESTIONS.length}`;
    }

    function totalScore(){
      return Object.values(answers).reduce((a,b)=>a+(+b||0),0);
    }
    function maxScore(){ return QUESTIONS.length * 4; }

    function updateScoreInfo(){
      const s = totalScore();
      const max = maxScore();
      const pct = (max === 0) ? 0 : Math.round((s / max) * 100);
      scoreInfo.textContent = `適性: ${pct}%`;
    }

    function animateCount(from, to, duration, onTick, onDone){
      const start = performance.now();
      function frame(now){
        const t = Math.min(1, (now - start) / duration);
        const eased = t < 0.5 ? 2*t*t : -1 + (4 - 2*t)*t;
        const current = Math.round(from + (to - from) * eased);
        onTick(current);
        if(t < 1) requestAnimationFrame(frame);
        else { if(onDone) onDone(); }
      }
      requestAnimationFrame(frame);
    }

    function showResult(){
      const s = totalScore();
      const max = maxScore();
      const pct = (max === 0) ? 0 : Math.round((s / max) * 100);
      const found = RESULTS.find(r => pct >= r.minPct && pct <= r.maxPct) || RESULTS[RESULTS.length - 1];

      quizEl.innerHTML = '';
      const res = document.createElement('div');
      res.className = 'result fade-in';

      const big = document.createElement('div');
      big.className = 'big';
      const pctEl = document.createElement('div');
      pctEl.className = 'percent';
      pctEl.textContent = '0%';
      big.appendChild(pctEl);

      const titleWrap = document.createElement('div');
      const h3 = document.createElement('h3');
      h3.textContent = found.title;
      const p = document.createElement('p');
      p.textContent = found.description;
      titleWrap.appendChild(h3);
      titleWrap.appendChild(p);

      big.appendChild(titleWrap);
      res.appendChild(big);

      const meta = document.createElement('p');
      meta.style.marginTop = '12px';
      meta.innerHTML = `<strong>合計スコア：</strong>${s} / ${max}`;
      res.appendChild(meta);

      const list = document.createElement('dl');
      list.style.marginTop = '12px';
      QUESTIONS.forEach(q=>{
        const dt = document.createElement('dt'); dt.style.marginTop='8px'; dt.style.fontWeight='600'; dt.textContent = q.text;
        const dd = document.createElement('dd'); dd.style.margin='2px 0 0 8px';
        const optText = (answers[q.id] !== undefined) ? (q.options.find(o=>o.value===answers[q.id])||{}).text || answers[q.id] : '未回答';
        dd.textContent = optText;
        list.appendChild(dt); list.appendChild(dd);
      });
      res.appendChild(list);

      const wrap = document.createElement('div');
      wrap.style.display = 'flex';
      wrap.style.gap = '10px';
      wrap.style.marginTop = '14px';
      const btnRestart = document.createElement('button');
      btnRestart.textContent = '最初からやり直す';
      btnRestart.addEventListener('click', ()=>{
        answers = {}; currentIndex = 0; renderQuestion(0); updateProgress(); updateScoreInfo();
        progressBar.style.width = '0%';
      });
      const btnCopy = document.createElement('button');
      btnCopy.textContent = '結果をコピー';
      btnCopy.className = 'secondary';
      btnCopy.addEventListener('click', ()=>{
        const text = `デザイナー適性診断\n適性: ${pct}%\n合計スコア: ${s} / ${max}\n\n${found.title}\n${found.description}`;
        navigator.clipboard?.writeText(text).then(()=>{ alert('結果をコピーしました'); }).catch(()=>{ alert('コピーに失敗しました'); });
      });
      wrap.appendChild(btnRestart);
      wrap.appendChild(btnCopy);
      res.appendChild(wrap);

      quizEl.appendChild(res);

      progressBar.style.width = '100%';
      qInfo.textContent = `完了`;

      animateCount(0, pct, 900,
        (val) => { pctEl.textContent = val + '%'; scoreInfo.textContent = `適性: ${val}%`; },
        ()=>{ pctEl.textContent = pct + '%'; scoreInfo.textContent = `適性: ${pct}%`; }
      );
    }
  </script>
</body>

</html>





